## Housing Price Prediction Model

Лекции и тех задание на семинары доступны на [Я.диске](https://disk.yandex.ru/d/vDb3HPumZ2xK0w)  


### Описание проекта
Проект направлен на создание модели машинного обучения для прогнозирования цен на жилье. Модель использует различные характеристики объектов недвижимости для предсказания их рыночной стоимости.

### Структура проекта
```
housing_price_prediction/
├── data/
│   ├── raw/                # Исходные данные
│   ├── processed/          # Обработанные данные
├── models/                 # Обученные модели
├── notebooks/             # Jupyter notebooks
├── src/                   # Исходный код
│   ├── preprocess_data.py # Обработка данных
│   ├── parse_cian.py      # Сбор данных
│   ├── preprocess_data.py # Предобработка данных
│   ├── run_pipeline.py    # Пайплайн для сбора, обработки данных и обучения модели
│   ├── train_model.py     # Обучение модели
│   └── app.py             # Основное приложение
│   ├── templates/         # Страницы html
│       ├── index.html     # Главная страница html
├── requirements.txt       # Требования к зависимостям
└── README.md

```

### Архитектура сервиса ПА
![](img/arch.png)

### Как запустить
1. Клонируйте репозиторий:
```bash
git clone https://github.com/bombermon/Cian.git
```

2. Создайте venv и установите зависимости:
```bash
python -m venv venv
venv/Scripts/activate
pip install -r requirements.txt
```

3. Запустите цикл сбора данных и обучения:
```bash
python src/run_pipeline.py --model_name last_model.pkl --test_size 0.2

### Данные
Используемые данные включают следующие характеристики:
* Площадь жилья
* Количество комнат
* Этаж жилья
* Этажность дома
* Признак первого этажа
* Признак последнего этажа

### Модель машинного обучения
** LinearRegression ** - линейная регрессия 

### Данные
Собраны в период с 01.05.2025 по 19.05.2025  
В выборке 1, 2, 3 комнатные квартиры  
Цена от 4 млн до 100 млн, площадь до 100 м2  

Train - 400 квартир  
Test - 100 квартир  

### Результаты
После обучения модели достигаются следующие результаты:
* MAE: ~4.631.863 руб. 
* RMSE: ~5.283.747 руб.
* R² Score: ~0.33

### Использование сервиса предиктивной аналитики в dev mode
1. Запустите сервис
```sh
python service/app.py 
```
2. Веб приложение доступно по ссылке `http://127.0.0.1:5000` 
3. Документация доступна по ссылке `http://127.0.0.1:5000/docs`
4. API endpoint доступен по ссылке `http://127.0.0.1:5000/predict`
```sh
curl -X POST http://127.0.0.1:5000/predict \
     -H "Content-Type: application/json" \
     -d '{
           "floor": 5,
           "floors_count": 9,
           "rooms_count": 2,
           "total_meters": 45.6
         }'
```
